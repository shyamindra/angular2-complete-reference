<div *ngIf="isLoading">
    <i class="fa fa-circle-o-notch fa-spin fa-3x fa-fw spinner-custom"></i>
</div>
<div *ngIf="searchQry != null">
    <div class="searchResults">Results for {{searchQry}}</div>
    <hr/>
</div>
<div style="float:left; width:100%">
    <div *ngFor="let feed of roosts; let i = index">
            <div class="profile-feed">
                <div (click)="showDetail(feed, true);" style="cursor: pointer;">
                <div class="profile-feed-header">
                    <h4>{{ feed.title }}</h4>
                </div>
                <div class="tags-div">
                    <div *ngFor="let tag of feed.tags" class="tags">
                            #{{ tag.tag }}
                    </div>
                </div>
                </div>
                <a (click)="redirectToGMaps(feed.lat,feed.lng)">
                    <div id="location-div">
                        <div id="location">
                            <img src="assets/icon_tf_location_active.png">
                        </div>
                        <div id="location-address">
                            {{ feed.location }}
                        </div>
                    </div>
                </a>
                <div id="date" (click)="showDetail(feed, true);">
                    <img src="assets/time_icon.png">
                    {{ extractDate(feed.created_at) }}
                </div>
                 <!--<video controls>
                        <source src= "{{ 'https://s3.amazonaws.com/' + 'roosterbucket/roost/' + 87 + '.mp4'}}" type="video/mp4">
                </video>-->
                <div id="media-div" (click)="showMedia(feed);">
                    <div *ngIf="feed.media_type=='IMG'">
                        <img [src]="feed.image" onerror="this.src='assets/placeholder.png'" />
                    </div>
                    <div *ngIf="feed.media_type=='VID'" class="videoContainer">
                        <video [poster]="feed.image" controls>
                            <source [src]="feed.video" onerror="this.src='assets/placeholder.png'" type="video/mp4">
                        </video>
                        <div class="player-buttons"></div>
                    </div>
                    <div *ngIf="feed.media_type=='AUD'" class="audio">
                        <audio controls>
                            <source [src]="feed.audio" type="audio/mpeg">
                            Your browser does not support the audio element.
                        </audio>
                    </div>
                </div>
                <div id="Comments">
                    <div *ngIf="feed.type=='PROMO'" class="commentDiv"><a (click)="displayShoutsList(feed);">
                            {{ feed.shouts }} Follow</a> &nbsp;&#8226;</div>
                    <div *ngIf="feed.type=='COMPLAIN'" class="commentDiv"><a (click)="displayShoutsList(feed);">
                            {{ feed.shouts }} Shouts</a> &nbsp;&#8226;</div>
                    <div *ngIf="feed.type=='PROMO'" class="commentDiv"><a (click)="displayListenersList(feed);">
                            {{ feed.listeners }} Reach</a>  &nbsp;&#8226;</div>
                    <div *ngIf="feed.type=='COMPLAIN'" class="commentDiv"><a (click)="displayListenersList(feed);">
                            {{ feed.listeners }} Listeners</a>  &nbsp;&#8226;</div>
                    <div class="commentDiv">
                        <a (click)="displayCommentsList(feed);">{{ feed.comments }} Discussions</a></div>
                </div>
                <div style="clear:both">
                <hr/>
                </div>
                <div id="icons">
                    <div *ngIf="feed.isShout==false" (click) = "toggleShout(feed)" class="icon">
                        <div *ngIf="feed.type=='PROMO'">
                            <a><img src="assets/icon_promotions_follow.png"></a>
                        </div>
                        <div *ngIf="feed.type=='COMPLAIN'">
                            <a><img src="assets/icon_support.png"></a>
                        </div>
                    </div>
                    <div *ngIf="feed.isShout==true" (click) = "toggleShout(feed)" class="icon">
                        <div *ngIf="feed.type=='PROMO'">
                            <a><img src="assets/icon_promotions_follow_active.png"></a>
                        </div>
                        <div *ngIf="feed.type=='COMPLAIN'">
                            <a><img src="assets/icon_support_active.png"></a>
                        </div>
                    </div>
                    <div *ngIf="feed.isListened==false" (click) = "toggleListen(feed)" class="icon">
                        <div *ngIf="feed.type=='PROMO'">
                            <a><img src="assets/icon_reach.png"></a>
                        </div>
                        <div *ngIf="feed.type=='COMPLAIN'">
                            <a><img src="assets/icon_listners.png"></a>
                        </div>
                    </div>
                    <div *ngIf="feed.isListened==true" (click) = "toggleListen(feed)" class="icon">
                        <div *ngIf="feed.type=='PROMO'">
                            <a><img src="assets/icon_reach_active.png"></a>
                        </div>
                        <div *ngIf="feed.type=='COMPLAIN'">
                            <a><img src="assets/icon_listners_active.png"></a>
                        </div>
                    </div>
                    <div class="icon" (click)="displayCommentsList(feed);">
                        <a><img src="assets/icon_comment.png"></a>
                    </div>
                    <div class="icon_share" (click)="shareRoost(feed);">
                        <a>Share <img src="assets/icon_share.png"></a>
                    </div>
                </div>
            </div>
	</div>
</div>
<!-- TODO: Implement pagination -->
<!-- TODO: Implement modals for user actions, comments, detail, login, alert, media, and share -->
